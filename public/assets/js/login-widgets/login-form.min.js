document.addEventListener("DOMContentLoaded",(function(){var e,t=document.querySelector('[data-sf-role="sf-login-form-container"]'),n=t.querySelector('[data-sf-role="form-container"]'),r=n.querySelector("form"),a=t.querySelector('[data-sf-role="error-message-container"]'),i=document.querySelector("[data-sf-visibility-hidden]"),o=i.dataset?i.dataset.sfVisibilityHidden:null,s=document.querySelector("[data-sf-invalid]"),l=s.dataset&&(e=s.dataset.sfInvalid)&&""!==e?s.dataset.sfInvalid:null,u=l?l.split(" "):null,d="data-sf-invalid";r.addEventListener("submit",(function(e){e.preventDefault(),new Promise(((e,t)=>{let n=new XMLHttpRequest;n.open("GET","/sitefinity/anticsrf"),n.setRequestHeader("X-SF-ANTIFORGERY-REQUEST","true"),n.responseType="json",n.onload=function(){const t=n.response;if(null!=t){const n=t.Value;document.querySelectorAll("input[name = 'sf_antiforgery']").forEach((e=>e.value=n)),e()}else e()},n.onerror=function(){t()},n.send()})).then((t=>{c(r)&&e.target.submit()}),(e=>{!function(e){document.getElementById("errorContainer").innerText=e}("Antiforgery token retrieval failed")}))}));var c=function(e){var t=!0;if(m(e),y(a),e.querySelectorAll("input[data-sf-role='required']").forEach((function(e){e.value||(f(e),t=!1)})),!t)return a.innerText=n.querySelector("input[name='ValidationRequiredMessage']").value,v(a),t;var r=e.querySelector("input[name='username']");return q(r.value)?t:(a.innerText=n.querySelector("input[name='ValidationInvalidEmailMessage']").value,f(r),v(a),!1)},f=function(e){e&&(u&&e.classList.add(...u),e.setAttribute(d,""))},m=function(e){e.querySelectorAll("[data-sf-invalid]").forEach((function(e){u&&e.classList.remove(...u),e.removeAttribute(d)}))},v=function(e){e&&(o?e.classList.remove(o):e.style.display="")},y=function(e){e&&(o?e.classList.add(o):e.style.display="none")},q=function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w+)+$/.test(e)}}));