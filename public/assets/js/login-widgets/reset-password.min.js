document.addEventListener("DOMContentLoaded",(function(){var e,t=document.querySelector('[data-sf-role="sf-reset-password-container"]'),r=document.querySelector("[data-sf-visibility-hidden]"),a=r.dataset?r.dataset.sfVisibilityHidden:null,n=t.querySelector('[data-sf-role="form-container"]'),s=n.querySelector("form"),o=t.querySelector('[data-sf-role="error-message-container"]'),i=t.querySelector('[data-sf-role="success-message-container"]'),l=document.querySelector("[data-sf-invalid]"),u=l.dataset&&(e=l.dataset.sfInvalid)&&""!==e?l.dataset.sfInvalid:null,d=u?u.split(" "):null,c="data-sf-invalid";s.addEventListener("submit",(function(e){if(e.preventDefault(),f(s)){var t={model:v(s)},r=s.attributes.action.value;window.fetch(r,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>{var t,r=e.status;204===r?(S(n),q(i)):(400==r?t=s.querySelector("input[name='NewPassword']"):403==r&&(t=s.querySelector("input[name='Answer']")),y(t),e.json().then((e=>{var t=e.error.message;o.innerText=t,q(o)})))}))}}));var f=function(e){var t=!0;if(m(e),S(o),e.querySelectorAll("input[data-sf-role='required']").forEach((function(e){e.value||(y(e),t=!1)})),!t)return o.innerText=n.querySelector("input[name='AllFieldsAreRequiredErrorMessage']").value,q(o),t;var r=e.querySelectorAll("[type='password']");return r[0].value!==r[1].value?(o.innerText=n.querySelector("input[name='PasswordsMismatchErrorMessage']").value,y(r[1]),q(o),!1):t},v=function(e){var t={},r=new FormData(e);for(var a of r.keys())t[a]=r.get(a);return t},y=function(e){e&&(d&&e.classList.add(...d),e.setAttribute(c,""))},m=function(e){e.querySelectorAll("[data-sf-invalid]").forEach((function(e){d&&e.classList.remove(...d),e.removeAttribute(c)}))},q=function(e){e&&(a?e.classList.remove(a):e.style.display="")},S=function(e){e&&(a?e.classList.add(a):e.style.display="none")}}));