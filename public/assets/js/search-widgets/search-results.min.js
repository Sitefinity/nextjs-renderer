!function () { var e = "sf-search-result-container", t = "sf-search-result-pager", a = "sf-search-results-loading-indicator"; function r(r) { function n(e, t, a) { var r = e.getAttribute("data-sf-search-query") || "", n = e.getAttribute("data-sf-search-catalogue") || "", i = e.getAttribute("data-sf-words-mode") || "", s = a || e.getAttribute("data-sf-language") || "", l = t || e.getAttribute("data-sf-sorting") || "", o = e.getAttribute("data-sf-scoring-info"), d = e.getAttribute("data-sf-results-all"), u = e.getAttribute("data-sf-filter"); r = "?searchQuery=" + r + "&indexCatalogue=" + n + "&wordsMode=" + i + "&sf_culture=" + s + "&orderBy=" + l; o && (r = r + "&scoringInfo=" + o), u && (r = r + "&filter=" + u), "True" == d ? r += "&resultsForAllSites=True" : "False" == d && (r += "&resultsForAllSites=False"), window.location.search = r } function i() { r.querySelectorAll("[data-sf-role='search-results']").forEach((function (e) { var t = e.querySelector(".userSortDropdown"); t && (t.querySelectorAll("option").forEach((function (t) { t.selected = t.value == e.getAttribute("data-sf-sorting") })), t.addEventListener("change", (function (t) { var a = t.target.value; n(e, a) }))), e.addEventListener("click", (function (t) { if ("search-results-language" === t.target.getAttribute("data-sf-role")) { var a = t.target.getAttribute("data-sf-language"); a && n(e, void 0, a) } })) })) } function s(t) { var n = r.getElementById(e), i = n.querySelectorAll("[data-sf-hide-while-loading='true']"); i.length > 0 ? i.forEach((function (e) { e.style.display = t ? "none" : "block" })) : n.style.display = t ? "none" : "block", r.getElementById(a).style.display = t ? "block" : "none" } r.addEventListener("searchResultsLoaded", (function (a, n) { if (a.detail && a.detail.searchResultsPageDocument) { var l = a.detail.searchResultsPageDocument, o = r.getElementById(e); if (o) { var d = l.getElementById(e); if (d) { o.innerHTML = d.innerHTML; var u = r.getElementById(t); if (u) { var c = l.getElementById(t); c && (u.innerHTML = c.innerHTML) } f = o, g = window.location.search, h = (h = new Querystring(g.substring(1, g.length)).get("filter")) || "", f.setAttribute("data-sf-filter", h), i() } } } var f, g, h; s(!1) })), i(), r.addEventListener("beginLoadingSearchResults", (function (e, t) { s(!0) })) } document.addEventListener("widgetLoaded", (function (e) { "SitefinitySearchResults" === e.detail.model.Name && r(e.detail.element) })), document.addEventListener("DOMContentLoaded", (function () { r(document) })) }();