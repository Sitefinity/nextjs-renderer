!function () { function e() { const e = document.getElementsByClassName("recommendations-metadata"); for (let n = 0; n < e.length; n++) { const i = e[n], a = i.getElementsByClassName("unique-id")[0].value, o = i.getElementsByClassName("web-service-path")[0].value, c = i.getElementsByClassName("conversion-id")[0].value, l = i.getElementsByClassName("max-number-of-items")[0].value, r = i.getElementsByClassName("site-id")[0].value; t(o, parseInt(c), a, parseInt(l), r) } } function t(e, t, n, i, a) { if (window.DataIntelligenceSubmitScript) { let o = window.DataIntelligenceSubmitScript._client.recommenderClient.getClientJourney(); if (o && o.length > 0) { (function (e, t) { return fetch(e, { method: "POST", mode: "cors", cache: "no-cache", credentials: "same-origin", headers: { "Content-Type": "application/json" }, redirect: "follow", referrerPolicy: "no-referrer", body: JSON.stringify(t) }).then((e => e.json())) })(`/${e}/Default.GetRecommendations()?sf_site=${a}`, { conversionId: t, journeyJson: JSON.stringify(o) }).then((function (e) { const a = e.value, o = `recommendations-wrapper-${n}`; if (a && a.length > 0) { document.getElementById(o).removeAttribute("hidden") } for (let e = 0; e < a.length && e !== i; e++) { const n = a[e], i = window.DataIntelligenceSubmitScript._client.recommenderClient.prepareRecommendationUrl(n.Url, t), c = document.createElement("div"), l = document.createElement("a"); l.setAttribute("href", i), l.innerText = n.Title, l.classList.add("fs-5"), c.appendChild(l); document.getElementById(o).getElementsByClassName("content-recommendations")[0].appendChild(l), window.DataIntelligenceSubmitScript._client.recommenderClient.trackRecommendationShown(n, t) } })) } } } document.addEventListener("DOMContentLoaded", (function () { window.DataIntelligenceSubmitScript ? e() : window.addEventListener ? window.addEventListener("decclientready", e, !1) : window.attachEvent && window.attachEvent("decclientready", e) })) }();
